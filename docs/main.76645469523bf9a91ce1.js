(()=>{"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var i=function(){var i=function(){function i(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,i),!(t instanceof Node))throw"Can't initialize VanillaTilt because "+t+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=t,this.settings=this.extendSettings(s),this.reverse=this.settings.reverse?-1:1,this.glare=i.isSettingTrue(this.settings.glare),this.glarePrerender=i.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=i.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=i.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.reset(),this.updateInitialPosition()}var s,n,a;return s=i,a=[{key:"isSettingTrue",value:function(e){return""===e||!0===e||1===e}},{key:"init",value:function(e,t){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach((function(e){"vanillaTilt"in e||(e.vanillaTilt=new i(e,t))}))}}],(n=[{key:"getElementListener",value:function(){if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){var e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}},{key:"addEventListeners",value:function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}},{key:"removeEventListeners",value:function(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}},{key:"destroy",value:function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}},{key:"onDeviceOrientation",value:function(e){if(null!==e.gamma&&null!==e.beta){this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);var t=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,i=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,s=t/this.width,n=i/this.height,a=(e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/s,l=(e.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/n;null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:a+this.left,clientY:l+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}}},{key:"onMouseEnter",value:function(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}},{key:"onMouseMove",value:function(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}},{key:"onMouseLeave",value:function(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}},{key:"reset",value:function(){this.event={clientX:this.left+this.width/2,clientY:this.top+this.height/2},this.element&&this.element.style&&(this.element.style.transform="perspective(".concat(this.settings.perspective,"px) ")+"rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)"),this.resetGlare()}},{key:"resetGlare",value:function(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}},{key:"updateInitialPosition",value:function(){if(0!==this.settings.startX||0!==this.settings.startY){this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};var e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}}},{key:"getValues",value:function(){var e,t;return this.fullPageListening?(e=this.event.clientX/this.clientWidth,t=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,t=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1),{tiltX:(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(t*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*e,percentageY:100*t,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(){var e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate(".concat(e.angle,"deg) translate(-50%, -50%)"),this.glareElement.style.opacity="".concat(e.percentageY*this.settings["max-glare"]/100)),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}},{key:"prepareGlare",value:function(){if(!this.glarePrerender){var e=document.createElement("div");e.classList.add("js-tilt-glare");var t=document.createElement("div");t.classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}),this.updateGlareSize())}},{key:"updateGlareSize",value:function(){if(this.glare){var e=2*(this.element.offsetWidth>this.element.offsetHeight?this.element.offsetWidth:this.element.offsetHeight);Object.assign(this.glareElement.style,{width:"".concat(e,"px"),height:"".concat(e,"px")})}}},{key:"updateClientSize",value:function(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},{key:"onWindowResize",value:function(){this.updateGlareSize(),this.updateClientSize()}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity ".concat(this.settings.speed,"ms ").concat(this.settings.easing)),this.transitionTimeout=setTimeout((function(){e.element.style.transition="",e.glare&&(e.glareElement.style.transition="")}),this.settings.speed)}},{key:"extendSettings",value:function(e){var t={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},i={};for(var s in t)if(s in e)i[s]=e[s];else if(this.element.hasAttribute("data-tilt-"+s)){var n=this.element.getAttribute("data-tilt-"+s);try{i[s]=JSON.parse(n)}catch(e){i[s]=n}}else i[s]=t[s];return i}}])&&t(s.prototype,n),a&&t(s,a),i}();return"undefined"!=typeof document&&(window.VanillaTilt=i,i.init(document.querySelectorAll("[data-tilt]"))),i}(),s=document.querySelector("header"),n=(document.querySelector(".proyecto"),document.querySelector(".toMenu")),a=document.querySelector("#btn"),l=document.querySelectorAll(".menu"),r=document.querySelectorAll(".card");window.addEventListener("scroll",(function(){s.classList.toggle("sticky",window.scrollY>0)})),a.addEventListener("click",(function(){n.classList.toggle("active")})),l.forEach((function(e){e.addEventListener("click",(function(){n.classList.toggle("active")}))})),i.init(r,{max:30,scale:1.1,glare:!0,"max-glare":.5})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQ1AsWUFBYSxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay1pbmljaWFsLy4vc3JjL2pzL3ZhbmlsbGEtdGlsdC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLWluaWNpYWwvLi9zcmMvanMvY29tcG9uZW50ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBWYW5pbGxhVGlsdCA9IChmdW5jdGlvbiAoKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlZCBieSBTZXJnaXUgyJhhbmRvciAobWlja3U3enUpIG9uIDEvMjcvMjAxNy5cbiAqIE9yaWdpbmFsIGlkZWE6IGh0dHBzOi8vZ2l0aHViLmNvbS9naWpzcm9nZS90aWx0LmpzXG4gKiBNSVQgTGljZW5zZS5cbiAqIFZlcnNpb24gMS43LjJcbiAqL1xuXG5jbGFzcyBWYW5pbGxhVGlsdCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNldHRpbmdzID0ge30pIHtcbiAgICBpZiAoIShlbGVtZW50IGluc3RhbmNlb2YgTm9kZSkpIHtcbiAgICAgIHRocm93IChcIkNhbid0IGluaXRpYWxpemUgVmFuaWxsYVRpbHQgYmVjYXVzZSBcIiArIGVsZW1lbnQgKyBcIiBpcyBub3QgYSBOb2RlLlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLndpZHRoID0gbnVsbDtcbiAgICB0aGlzLmhlaWdodCA9IG51bGw7XG4gICAgdGhpcy5jbGllbnRXaWR0aCA9IG51bGw7XG4gICAgdGhpcy5jbGllbnRIZWlnaHQgPSBudWxsO1xuICAgIHRoaXMubGVmdCA9IG51bGw7XG4gICAgdGhpcy50b3AgPSBudWxsO1xuXG4gICAgLy8gZm9yIEd5cm9zY29wZSBzYW1wbGluZ1xuICAgIHRoaXMuZ2FtbWF6ZXJvID0gbnVsbDtcbiAgICB0aGlzLmJldGF6ZXJvID0gbnVsbDtcbiAgICB0aGlzLmxhc3RnYW1tYXplcm8gPSBudWxsO1xuICAgIHRoaXMubGFzdGJldGF6ZXJvID0gbnVsbDtcblxuICAgIHRoaXMudHJhbnNpdGlvblRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMudXBkYXRlQ2FsbCA9IG51bGw7XG4gICAgdGhpcy5ldmVudCA9IG51bGw7XG5cbiAgICB0aGlzLnVwZGF0ZUJpbmQgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucmVzZXRCaW5kID0gdGhpcy5yZXNldC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLnNldHRpbmdzID0gdGhpcy5leHRlbmRTZXR0aW5ncyhzZXR0aW5ncyk7XG5cbiAgICB0aGlzLnJldmVyc2UgPSB0aGlzLnNldHRpbmdzLnJldmVyc2UgPyAtMSA6IDE7XG4gICAgdGhpcy5nbGFyZSA9IFZhbmlsbGFUaWx0LmlzU2V0dGluZ1RydWUodGhpcy5zZXR0aW5ncy5nbGFyZSk7XG4gICAgdGhpcy5nbGFyZVByZXJlbmRlciA9IFZhbmlsbGFUaWx0LmlzU2V0dGluZ1RydWUodGhpcy5zZXR0aW5nc1tcImdsYXJlLXByZXJlbmRlclwiXSk7XG4gICAgdGhpcy5mdWxsUGFnZUxpc3RlbmluZyA9IFZhbmlsbGFUaWx0LmlzU2V0dGluZ1RydWUodGhpcy5zZXR0aW5nc1tcImZ1bGwtcGFnZS1saXN0ZW5pbmdcIl0pO1xuICAgIHRoaXMuZ3lyb3Njb3BlID0gVmFuaWxsYVRpbHQuaXNTZXR0aW5nVHJ1ZSh0aGlzLnNldHRpbmdzLmd5cm9zY29wZSk7XG4gICAgdGhpcy5neXJvc2NvcGVTYW1wbGVzID0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVTYW1wbGVzO1xuXG4gICAgdGhpcy5lbGVtZW50TGlzdGVuZXIgPSB0aGlzLmdldEVsZW1lbnRMaXN0ZW5lcigpO1xuXG4gICAgaWYgKHRoaXMuZ2xhcmUpIHtcbiAgICAgIHRoaXMucHJlcGFyZUdsYXJlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZnVsbFBhZ2VMaXN0ZW5pbmcpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2xpZW50U2l6ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy51cGRhdGVJbml0aWFsUG9zaXRpb24oKTtcbiAgfVxuXG4gIHN0YXRpYyBpc1NldHRpbmdUcnVlKHNldHRpbmcpIHtcbiAgICByZXR1cm4gc2V0dGluZyA9PT0gXCJcIiB8fCBzZXR0aW5nID09PSB0cnVlIHx8IHNldHRpbmcgPT09IDE7XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIHJldHVybnMgZWxlbWVudCB3aGF0IHdpbGwgYmUgbGlzdGVuIG1vdXNlIGV2ZW50c1xuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKi9cbiAgZ2V0RWxlbWVudExpc3RlbmVyKCkge1xuICAgIGlmICh0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nKSB7XG4gICAgICByZXR1cm4gd2luZG93LmRvY3VtZW50O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5nc1tcIm1vdXNlLWV2ZW50LWVsZW1lbnRcIl0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IG1vdXNlRXZlbnRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNldHRpbmdzW1wibW91c2UtZXZlbnQtZWxlbWVudFwiXSk7XG5cbiAgICAgIGlmIChtb3VzZUV2ZW50RWxlbWVudCkge1xuICAgICAgICByZXR1cm4gbW91c2VFdmVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3NbXCJtb3VzZS1ldmVudC1lbGVtZW50XCJdIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3NbXCJtb3VzZS1ldmVudC1lbGVtZW50XCJdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIHNldCBsaXN0ZW4gbWV0aG9kcyBmb3IgdGhpcy5lbGVtZW50TGlzdGVuZXJcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMub25Nb3VzZUVudGVyQmluZCA9IHRoaXMub25Nb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1vdXNlTW92ZUJpbmQgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1vdXNlTGVhdmVCaW5kID0gdGhpcy5vbk1vdXNlTGVhdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uV2luZG93UmVzaXplQmluZCA9IHRoaXMub25XaW5kb3dSZXNpemUuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uRGV2aWNlT3JpZW50YXRpb25CaW5kID0gdGhpcy5vbkRldmljZU9yaWVudGF0aW9uLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmVsZW1lbnRMaXN0ZW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCB0aGlzLm9uTW91c2VFbnRlckJpbmQpO1xuICAgIHRoaXMuZWxlbWVudExpc3RlbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMub25Nb3VzZUxlYXZlQmluZCk7XG4gICAgdGhpcy5lbGVtZW50TGlzdGVuZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlQmluZCk7XG5cbiAgICBpZiAodGhpcy5nbGFyZSB8fCB0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uV2luZG93UmVzaXplQmluZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ3lyb3Njb3BlKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImRldmljZW9yaWVudGF0aW9uXCIsIHRoaXMub25EZXZpY2VPcmllbnRhdGlvbkJpbmQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2QgcmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBmcm9tIGN1cnJlbnQgdGhpcy5lbGVtZW50TGlzdGVuZXJcbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuZWxlbWVudExpc3RlbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHRoaXMub25Nb3VzZUVudGVyQmluZCk7XG4gICAgdGhpcy5lbGVtZW50TGlzdGVuZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbk1vdXNlTGVhdmVCaW5kKTtcbiAgICB0aGlzLmVsZW1lbnRMaXN0ZW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMub25Nb3VzZU1vdmVCaW5kKTtcblxuICAgIGlmICh0aGlzLmd5cm9zY29wZSkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvblwiLCB0aGlzLm9uRGV2aWNlT3JpZW50YXRpb25CaW5kKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5nbGFyZSB8fCB0aGlzLmZ1bGxQYWdlTGlzdGVuaW5nKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uV2luZG93UmVzaXplQmluZCk7XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50cmFuc2l0aW9uVGltZW91dCk7XG4gICAgaWYgKHRoaXMudXBkYXRlQ2FsbCAhPT0gbnVsbCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVDYWxsKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5lbGVtZW50LnZhbmlsbGFUaWx0ID0gbnVsbDtcbiAgICBkZWxldGUgdGhpcy5lbGVtZW50LnZhbmlsbGFUaWx0O1xuXG4gICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIG9uRGV2aWNlT3JpZW50YXRpb24oZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuZ2FtbWEgPT09IG51bGwgfHwgZXZlbnQuYmV0YSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlRWxlbWVudFBvc2l0aW9uKCk7XG5cbiAgICBpZiAodGhpcy5neXJvc2NvcGVTYW1wbGVzID4gMCkge1xuICAgICAgdGhpcy5sYXN0Z2FtbWF6ZXJvID0gdGhpcy5nYW1tYXplcm87XG4gICAgICB0aGlzLmxhc3RiZXRhemVybyA9IHRoaXMuYmV0YXplcm87XG5cbiAgICAgIGlmICh0aGlzLmdhbW1hemVybyA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmdhbW1hemVybyA9IGV2ZW50LmdhbW1hO1xuICAgICAgICB0aGlzLmJldGF6ZXJvID0gZXZlbnQuYmV0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZ2FtbWF6ZXJvID0gKGV2ZW50LmdhbW1hICsgdGhpcy5sYXN0Z2FtbWF6ZXJvKSAvIDI7XG4gICAgICAgIHRoaXMuYmV0YXplcm8gPSAoZXZlbnQuYmV0YSArIHRoaXMubGFzdGJldGF6ZXJvKSAvIDI7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ3lyb3Njb3BlU2FtcGxlcyAtPSAxO1xuICAgIH1cblxuICAgIGNvbnN0IHRvdGFsQW5nbGVYID0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVNYXhBbmdsZVggLSB0aGlzLnNldHRpbmdzLmd5cm9zY29wZU1pbkFuZ2xlWDtcbiAgICBjb25zdCB0b3RhbEFuZ2xlWSA9IHRoaXMuc2V0dGluZ3MuZ3lyb3Njb3BlTWF4QW5nbGVZIC0gdGhpcy5zZXR0aW5ncy5neXJvc2NvcGVNaW5BbmdsZVk7XG5cbiAgICBjb25zdCBkZWdyZWVzUGVyUGl4ZWxYID0gdG90YWxBbmdsZVggLyB0aGlzLndpZHRoO1xuICAgIGNvbnN0IGRlZ3JlZXNQZXJQaXhlbFkgPSB0b3RhbEFuZ2xlWSAvIHRoaXMuaGVpZ2h0O1xuXG4gICAgY29uc3QgYW5nbGVYID0gZXZlbnQuZ2FtbWEgLSAodGhpcy5zZXR0aW5ncy5neXJvc2NvcGVNaW5BbmdsZVggKyB0aGlzLmdhbW1hemVybyk7XG4gICAgY29uc3QgYW5nbGVZID0gZXZlbnQuYmV0YSAtICh0aGlzLnNldHRpbmdzLmd5cm9zY29wZU1pbkFuZ2xlWSArIHRoaXMuYmV0YXplcm8pO1xuXG4gICAgY29uc3QgcG9zWCA9IGFuZ2xlWCAvIGRlZ3JlZXNQZXJQaXhlbFg7XG4gICAgY29uc3QgcG9zWSA9IGFuZ2xlWSAvIGRlZ3JlZXNQZXJQaXhlbFk7XG5cbiAgICBpZiAodGhpcy51cGRhdGVDYWxsICE9PSBudWxsKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUNhbGwpO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnQgPSB7XG4gICAgICBjbGllbnRYOiBwb3NYICsgdGhpcy5sZWZ0LFxuICAgICAgY2xpZW50WTogcG9zWSArIHRoaXMudG9wLFxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUNhbGwgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVCaW5kKTtcbiAgfVxuXG4gIG9uTW91c2VFbnRlcigpIHtcbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnRQb3NpdGlvbigpO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWxsQ2hhbmdlID0gXCJ0cmFuc2Zvcm1cIjtcbiAgICB0aGlzLnNldFRyYW5zaXRpb24oKTtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMudXBkYXRlQ2FsbCAhPT0gbnVsbCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVDYWxsKTtcbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgdGhpcy51cGRhdGVDYWxsID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQmluZCk7XG4gIH1cblxuICBvbk1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5zZXRUcmFuc2l0aW9uKCk7XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXNldCkge1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVzZXRCaW5kKTtcbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmV2ZW50ID0ge1xuICAgICAgY2xpZW50WDogdGhpcy5sZWZ0ICsgdGhpcy53aWR0aCAvIDIsXG4gICAgICBjbGllbnRZOiB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC8gMlxuICAgIH07XG5cbiAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5zdHlsZSkge1xuICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBwZXJzcGVjdGl2ZSgke3RoaXMuc2V0dGluZ3MucGVyc3BlY3RpdmV9cHgpIGAgK1xuICAgICAgICBgcm90YXRlWCgwZGVnKSBgICtcbiAgICAgICAgYHJvdGF0ZVkoMGRlZykgYCArXG4gICAgICAgIGBzY2FsZTNkKDEsIDEsIDEpYDtcbiAgICB9XG5cbiAgICB0aGlzLnJlc2V0R2xhcmUoKTtcbiAgfVxuXG4gIHJlc2V0R2xhcmUoKSB7XG4gICAgaWYgKHRoaXMuZ2xhcmUpIHtcbiAgICAgIHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IFwicm90YXRlKDE4MGRlZykgdHJhbnNsYXRlKC01MCUsIC01MCUpXCI7XG4gICAgICB0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlSW5pdGlhbFBvc2l0aW9uKCkge1xuICAgIGlmICh0aGlzLnNldHRpbmdzLnN0YXJ0WCA9PT0gMCAmJiB0aGlzLnNldHRpbmdzLnN0YXJ0WSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMub25Nb3VzZUVudGVyKCk7XG5cbiAgICBpZiAodGhpcy5mdWxsUGFnZUxpc3RlbmluZykge1xuICAgICAgdGhpcy5ldmVudCA9IHtcbiAgICAgICAgY2xpZW50WDogKHRoaXMuc2V0dGluZ3Muc3RhcnRYICsgdGhpcy5zZXR0aW5ncy5tYXgpIC8gKDIgKiB0aGlzLnNldHRpbmdzLm1heCkgKiB0aGlzLmNsaWVudFdpZHRoLFxuICAgICAgICBjbGllbnRZOiAodGhpcy5zZXR0aW5ncy5zdGFydFkgKyB0aGlzLnNldHRpbmdzLm1heCkgLyAoMiAqIHRoaXMuc2V0dGluZ3MubWF4KSAqIHRoaXMuY2xpZW50SGVpZ2h0XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmV2ZW50ID0ge1xuICAgICAgICBjbGllbnRYOiB0aGlzLmxlZnQgKyAoKHRoaXMuc2V0dGluZ3Muc3RhcnRYICsgdGhpcy5zZXR0aW5ncy5tYXgpIC8gKDIgKiB0aGlzLnNldHRpbmdzLm1heCkgKiB0aGlzLndpZHRoKSxcbiAgICAgICAgY2xpZW50WTogdGhpcy50b3AgKyAoKHRoaXMuc2V0dGluZ3Muc3RhcnRZICsgdGhpcy5zZXR0aW5ncy5tYXgpIC8gKDIgKiB0aGlzLnNldHRpbmdzLm1heCkgKiB0aGlzLmhlaWdodClcbiAgICAgIH07XG4gICAgfVxuXG5cbiAgICBsZXQgYmFja3VwU2NhbGUgPSB0aGlzLnNldHRpbmdzLnNjYWxlO1xuICAgIHRoaXMuc2V0dGluZ3Muc2NhbGUgPSAxO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gICAgdGhpcy5zZXR0aW5ncy5zY2FsZSA9IGJhY2t1cFNjYWxlO1xuICAgIHRoaXMucmVzZXRHbGFyZSgpO1xuICB9XG5cbiAgZ2V0VmFsdWVzKCkge1xuICAgIGxldCB4LCB5O1xuXG4gICAgaWYgKHRoaXMuZnVsbFBhZ2VMaXN0ZW5pbmcpIHtcbiAgICAgIHggPSB0aGlzLmV2ZW50LmNsaWVudFggLyB0aGlzLmNsaWVudFdpZHRoO1xuICAgICAgeSA9IHRoaXMuZXZlbnQuY2xpZW50WSAvIHRoaXMuY2xpZW50SGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICB4ID0gKHRoaXMuZXZlbnQuY2xpZW50WCAtIHRoaXMubGVmdCkgLyB0aGlzLndpZHRoO1xuICAgICAgeSA9ICh0aGlzLmV2ZW50LmNsaWVudFkgLSB0aGlzLnRvcCkgLyB0aGlzLmhlaWdodDtcbiAgICB9XG5cbiAgICB4ID0gTWF0aC5taW4oTWF0aC5tYXgoeCwgMCksIDEpO1xuICAgIHkgPSBNYXRoLm1pbihNYXRoLm1heCh5LCAwKSwgMSk7XG5cbiAgICBsZXQgdGlsdFggPSAodGhpcy5yZXZlcnNlICogKHRoaXMuc2V0dGluZ3MubWF4IC0geCAqIHRoaXMuc2V0dGluZ3MubWF4ICogMikpLnRvRml4ZWQoMik7XG4gICAgbGV0IHRpbHRZID0gKHRoaXMucmV2ZXJzZSAqICh5ICogdGhpcy5zZXR0aW5ncy5tYXggKiAyIC0gdGhpcy5zZXR0aW5ncy5tYXgpKS50b0ZpeGVkKDIpO1xuICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbjIodGhpcy5ldmVudC5jbGllbnRYIC0gKHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyKSwgLSh0aGlzLmV2ZW50LmNsaWVudFkgLSAodGhpcy50b3AgKyB0aGlzLmhlaWdodCAvIDIpKSkgKiAoMTgwIC8gTWF0aC5QSSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGlsdFg6IHRpbHRYLFxuICAgICAgdGlsdFk6IHRpbHRZLFxuICAgICAgcGVyY2VudGFnZVg6IHggKiAxMDAsXG4gICAgICBwZXJjZW50YWdlWTogeSAqIDEwMCxcbiAgICAgIGFuZ2xlOiBhbmdsZVxuICAgIH07XG4gIH1cblxuICB1cGRhdGVFbGVtZW50UG9zaXRpb24oKSB7XG4gICAgbGV0IHJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB0aGlzLndpZHRoID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICB0aGlzLmxlZnQgPSByZWN0LmxlZnQ7XG4gICAgdGhpcy50b3AgPSByZWN0LnRvcDtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBsZXQgdmFsdWVzID0gdGhpcy5nZXRWYWx1ZXMoKTtcblxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInBlcnNwZWN0aXZlKFwiICsgdGhpcy5zZXR0aW5ncy5wZXJzcGVjdGl2ZSArIFwicHgpIFwiICtcbiAgICAgIFwicm90YXRlWChcIiArICh0aGlzLnNldHRpbmdzLmF4aXMgPT09IFwieFwiID8gMCA6IHZhbHVlcy50aWx0WSkgKyBcImRlZykgXCIgK1xuICAgICAgXCJyb3RhdGVZKFwiICsgKHRoaXMuc2V0dGluZ3MuYXhpcyA9PT0gXCJ5XCIgPyAwIDogdmFsdWVzLnRpbHRYKSArIFwiZGVnKSBcIiArXG4gICAgICBcInNjYWxlM2QoXCIgKyB0aGlzLnNldHRpbmdzLnNjYWxlICsgXCIsIFwiICsgdGhpcy5zZXR0aW5ncy5zY2FsZSArIFwiLCBcIiArIHRoaXMuc2V0dGluZ3Muc2NhbGUgKyBcIilcIjtcblxuICAgIGlmICh0aGlzLmdsYXJlKSB7XG4gICAgICB0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlKCR7dmFsdWVzLmFuZ2xlfWRlZykgdHJhbnNsYXRlKC01MCUsIC01MCUpYDtcbiAgICAgIHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBgJHt2YWx1ZXMucGVyY2VudGFnZVkgKiB0aGlzLnNldHRpbmdzW1wibWF4LWdsYXJlXCJdIC8gMTAwfWA7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwidGlsdENoYW5nZVwiLCB7XG4gICAgICBcImRldGFpbFwiOiB2YWx1ZXNcbiAgICB9KSk7XG5cbiAgICB0aGlzLnVwZGF0ZUNhbGwgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGdsYXJlIGVsZW1lbnQgKGlmIGdsYXJlUHJlcmVuZGVyIGVxdWFscyBmYWxzZSlcbiAgICogYW5kIHNldHMgdGhlIGRlZmF1bHQgc3R5bGVcbiAgICovXG4gIHByZXBhcmVHbGFyZSgpIHtcbiAgICAvLyBJZiBvcHRpb24gcHJlLXJlbmRlciBpcyBlbmFibGVkIHdlIGFzc3VtZSBhbGwgaHRtbC9jc3MgaXMgcHJlc2VudCBmb3IgYW4gb3B0aW1hbCBnbGFyZSBlZmZlY3QuXG4gICAgaWYgKCF0aGlzLmdsYXJlUHJlcmVuZGVyKSB7XG4gICAgICAvLyBDcmVhdGUgZ2xhcmUgZWxlbWVudFxuICAgICAgY29uc3QganNUaWx0R2xhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAganNUaWx0R2xhcmUuY2xhc3NMaXN0LmFkZChcImpzLXRpbHQtZ2xhcmVcIik7XG5cbiAgICAgIGNvbnN0IGpzVGlsdEdsYXJlSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAganNUaWx0R2xhcmVJbm5lci5jbGFzc0xpc3QuYWRkKFwianMtdGlsdC1nbGFyZS1pbm5lclwiKTtcblxuICAgICAganNUaWx0R2xhcmUuYXBwZW5kQ2hpbGQoanNUaWx0R2xhcmVJbm5lcik7XG4gICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoanNUaWx0R2xhcmUpO1xuICAgIH1cblxuICAgIHRoaXMuZ2xhcmVFbGVtZW50V3JhcHBlciA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXRpbHQtZ2xhcmVcIik7XG4gICAgdGhpcy5nbGFyZUVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy10aWx0LWdsYXJlLWlubmVyXCIpO1xuXG4gICAgaWYgKHRoaXMuZ2xhcmVQcmVyZW5kZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50V3JhcHBlci5zdHlsZSwge1xuICAgICAgXCJwb3NpdGlvblwiOiBcImFic29sdXRlXCIsXG4gICAgICBcInRvcFwiOiBcIjBcIixcbiAgICAgIFwibGVmdFwiOiBcIjBcIixcbiAgICAgIFwid2lkdGhcIjogXCIxMDAlXCIsXG4gICAgICBcImhlaWdodFwiOiBcIjEwMCVcIixcbiAgICAgIFwib3ZlcmZsb3dcIjogXCJoaWRkZW5cIixcbiAgICAgIFwicG9pbnRlci1ldmVudHNcIjogXCJub25lXCJcbiAgICB9KTtcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUsIHtcbiAgICAgIFwicG9zaXRpb25cIjogXCJhYnNvbHV0ZVwiLFxuICAgICAgXCJ0b3BcIjogXCI1MCVcIixcbiAgICAgIFwibGVmdFwiOiBcIjUwJVwiLFxuICAgICAgXCJwb2ludGVyLWV2ZW50c1wiOiBcIm5vbmVcIixcbiAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiOiBgbGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEoMjU1LDI1NSwyNTUsMCkgMCUsIHJnYmEoMjU1LDI1NSwyNTUsMSkgMTAwJSlgLFxuICAgICAgXCJ0cmFuc2Zvcm1cIjogXCJyb3RhdGUoMTgwZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIixcbiAgICAgIFwidHJhbnNmb3JtLW9yaWdpblwiOiBcIjAlIDAlXCIsXG4gICAgICBcIm9wYWNpdHlcIjogXCIwXCIsXG4gICAgfSk7XG5cbiAgICB0aGlzLnVwZGF0ZUdsYXJlU2l6ZSgpO1xuICB9XG5cbiAgdXBkYXRlR2xhcmVTaXplKCkge1xuICAgIGlmICh0aGlzLmdsYXJlKSB7XG4gICAgICBjb25zdCBnbGFyZVNpemUgPSAodGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoID4gdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCA/IHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCA6IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQpICogMjtcblxuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZSwge1xuICAgICAgICBcIndpZHRoXCI6IGAke2dsYXJlU2l6ZX1weGAsXG4gICAgICAgIFwiaGVpZ2h0XCI6IGAke2dsYXJlU2l6ZX1weGAsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVDbGllbnRTaXplKCkge1xuICAgIHRoaXMuY2xpZW50V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgICAgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoXG4gICAgICB8fCBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xuXG4gICAgdGhpcy5jbGllbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgIHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuICB9XG5cbiAgb25XaW5kb3dSZXNpemUoKSB7XG4gICAgdGhpcy51cGRhdGVHbGFyZVNpemUoKTtcbiAgICB0aGlzLnVwZGF0ZUNsaWVudFNpemUoKTtcbiAgfVxuXG4gIHNldFRyYW5zaXRpb24oKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudHJhbnNpdGlvblRpbWVvdXQpO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdGhpcy5zZXR0aW5ncy5zcGVlZCArIFwibXMgXCIgKyB0aGlzLnNldHRpbmdzLmVhc2luZztcbiAgICBpZiAodGhpcy5nbGFyZSkgdGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9IGBvcGFjaXR5ICR7dGhpcy5zZXR0aW5ncy5zcGVlZH1tcyAke3RoaXMuc2V0dGluZ3MuZWFzaW5nfWA7XG5cbiAgICB0aGlzLnRyYW5zaXRpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9IFwiXCI7XG4gICAgICBpZiAodGhpcy5nbGFyZSkge1xuICAgICAgICB0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gXCJcIjtcbiAgICAgIH1cbiAgICB9LCB0aGlzLnNldHRpbmdzLnNwZWVkKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCByZXR1cm4gcGF0Y2hlZCBzZXR0aW5ncyBvZiBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNldHRpbmdzLnJldmVyc2UgLSByZXZlcnNlIHRoZSB0aWx0IGRpcmVjdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gc2V0dGluZ3MubWF4IC0gbWF4IHRpbHQgcm90YXRpb24gKGRlZ3JlZXMpXG4gICAqIEBwYXJhbSB7c3RhcnRYfSBzZXR0aW5ncy5zdGFydFggLSB0aGUgc3RhcnRpbmcgdGlsdCBvbiB0aGUgWCBheGlzLCBpbiBkZWdyZWVzLiBEZWZhdWx0OiAwXG4gICAqIEBwYXJhbSB7c3RhcnRZfSBzZXR0aW5ncy5zdGFydFkgLSB0aGUgc3RhcnRpbmcgdGlsdCBvbiB0aGUgWSBheGlzLCBpbiBkZWdyZWVzLiBEZWZhdWx0OiAwXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzZXR0aW5ncy5wZXJzcGVjdGl2ZSAtIFRyYW5zZm9ybSBwZXJzcGVjdGl2ZSwgdGhlIGxvd2VyIHRoZSBtb3JlIGV4dHJlbWUgdGhlIHRpbHQgZ2V0c1xuICAgKiBAcGFyYW0ge3N0cmluZ30gc2V0dGluZ3MuZWFzaW5nIC0gRWFzaW5nIG9uIGVudGVyL2V4aXRcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNldHRpbmdzLnNjYWxlIC0gMiA9IDIwMCUsIDEuNSA9IDE1MCUsIGV0Yy4uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzZXR0aW5ncy5zcGVlZCAtIFNwZWVkIG9mIHRoZSBlbnRlci9leGl0IHRyYW5zaXRpb25cbiAgICogQHBhcmFtIHtib29sZWFufSBzZXR0aW5ncy50cmFuc2l0aW9uIC0gU2V0IGEgdHJhbnNpdGlvbiBvbiBlbnRlci9leGl0XG4gICAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IHNldHRpbmdzLmF4aXMgLSBXaGF0IGF4aXMgc2hvdWxkIGJlIGRpc2FibGVkLiBDYW4gYmUgWCBvciBZXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2V0dGluZ3MuZ2xhcmUgLSBXaGF0IGF4aXMgc2hvdWxkIGJlIGRpc2FibGVkLiBDYW4gYmUgWCBvciBZXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzZXR0aW5ncy5tYXgtZ2xhcmUgLSB0aGUgbWF4aW11bSBcImdsYXJlXCIgb3BhY2l0eSAoMSA9IDEwMCUsIDAuNSA9IDUwJSlcbiAgICogQHBhcmFtIHtib29sZWFufSBzZXR0aW5ncy5nbGFyZS1wcmVyZW5kZXIgLSBmYWxzZSA9IFZhbmlsbGFUaWx0IGNyZWF0ZXMgdGhlIGdsYXJlIGVsZW1lbnRzIGZvciB5b3UsIG90aGVyd2lzZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNldHRpbmdzLmZ1bGwtcGFnZS1saXN0ZW5pbmcgLSBJZiB0cnVlLCBwYXJhbGxheCBlZmZlY3Qgd2lsbCBsaXN0ZW4gdG8gbW91c2UgbW92ZSBldmVudHMgb24gdGhlIHdob2xlIGRvY3VtZW50LCBub3Qgb25seSB0aGUgc2VsZWN0ZWQgZWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHNldHRpbmdzLm1vdXNlLWV2ZW50LWVsZW1lbnQgLSBTdHJpbmcgc2VsZWN0b3Igb3IgbGluayB0byBIVE1MLWVsZW1lbnQgd2hhdCB3aWxsIGJlIGxpc3RlbiBtb3VzZSBldmVudHNcbiAgICogQHBhcmFtIHtib29sZWFufSBzZXR0aW5ncy5yZXNldCAtIGZhbHNlID0gSWYgdGhlIHRpbHQgZWZmZWN0IGhhcyB0byBiZSByZXNldCBvbiBleGl0XG4gICAqIEBwYXJhbSB7Z3lyb3Njb3BlfSBzZXR0aW5ncy5neXJvc2NvcGUgLSBFbmFibGUgdGlsdGluZyBieSBkZXZpY2VvcmllbnRhdGlvbiBldmVudHNcbiAgICogQHBhcmFtIHtneXJvc2NvcGVTZW5zaXRpdml0eX0gc2V0dGluZ3MuZ3lyb3Njb3BlU2Vuc2l0aXZpdHkgLSBCZXR3ZWVuIDAgYW5kIDEgLSBUaGUgYW5nbGUgYXQgd2hpY2ggbWF4IHRpbHQgcG9zaXRpb24gaXMgcmVhY2hlZC4gMSA9IDkwZGVnLCAwLjUgPSA0NWRlZywgZXRjLi5cbiAgICogQHBhcmFtIHtneXJvc2NvcGVTYW1wbGVzfSBzZXR0aW5ncy5neXJvc2NvcGVTYW1wbGVzIC0gSG93IG1hbnkgZ3lyb3Njb3BlIG1vdmVzIHRvIGRlY2lkZSB0aGUgc3RhcnRpbmcgcG9zaXRpb24uXG4gICAqL1xuICBleHRlbmRTZXR0aW5ncyhzZXR0aW5ncykge1xuICAgIGxldCBkZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgICByZXZlcnNlOiBmYWxzZSxcbiAgICAgIG1heDogMTUsXG4gICAgICBzdGFydFg6IDAsXG4gICAgICBzdGFydFk6IDAsXG4gICAgICBwZXJzcGVjdGl2ZTogMTAwMCxcbiAgICAgIGVhc2luZzogXCJjdWJpYy1iZXppZXIoLjAzLC45OCwuNTIsLjk5KVwiLFxuICAgICAgc2NhbGU6IDEsXG4gICAgICBzcGVlZDogMzAwLFxuICAgICAgdHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgIGF4aXM6IG51bGwsXG4gICAgICBnbGFyZTogZmFsc2UsXG4gICAgICBcIm1heC1nbGFyZVwiOiAxLFxuICAgICAgXCJnbGFyZS1wcmVyZW5kZXJcIjogZmFsc2UsXG4gICAgICBcImZ1bGwtcGFnZS1saXN0ZW5pbmdcIjogZmFsc2UsXG4gICAgICBcIm1vdXNlLWV2ZW50LWVsZW1lbnRcIjogbnVsbCxcbiAgICAgIHJlc2V0OiB0cnVlLFxuICAgICAgZ3lyb3Njb3BlOiB0cnVlLFxuICAgICAgZ3lyb3Njb3BlTWluQW5nbGVYOiAtNDUsXG4gICAgICBneXJvc2NvcGVNYXhBbmdsZVg6IDQ1LFxuICAgICAgZ3lyb3Njb3BlTWluQW5nbGVZOiAtNDUsXG4gICAgICBneXJvc2NvcGVNYXhBbmdsZVk6IDQ1LFxuICAgICAgZ3lyb3Njb3BlU2FtcGxlczogMTBcbiAgICB9O1xuXG4gICAgbGV0IG5ld1NldHRpbmdzID0ge307XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZGVmYXVsdFNldHRpbmdzKSB7XG4gICAgICBpZiAocHJvcGVydHkgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgbmV3U2V0dGluZ3NbcHJvcGVydHldID0gc2V0dGluZ3NbcHJvcGVydHldO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGF0YS10aWx0LVwiICsgcHJvcGVydHkpKSB7XG4gICAgICAgIGxldCBhdHRyaWJ1dGUgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10aWx0LVwiICsgcHJvcGVydHkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG5ld1NldHRpbmdzW3Byb3BlcnR5XSA9IEpTT04ucGFyc2UoYXR0cmlidXRlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIG5ld1NldHRpbmdzW3Byb3BlcnR5XSA9IGF0dHJpYnV0ZTtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdTZXR0aW5nc1twcm9wZXJ0eV0gPSBkZWZhdWx0U2V0dGluZ3NbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXdTZXR0aW5ncztcbiAgfVxuXG4gIHN0YXRpYyBpbml0KGVsZW1lbnRzLCBzZXR0aW5ncykge1xuICAgIGlmIChlbGVtZW50cyBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgIGVsZW1lbnRzID0gW2VsZW1lbnRzXTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudHMgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xuICAgICAgZWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKGVsZW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIShlbGVtZW50cyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGlmICghKFwidmFuaWxsYVRpbHRcIiBpbiBlbGVtZW50KSkge1xuICAgICAgICBlbGVtZW50LnZhbmlsbGFUaWx0ID0gbmV3IFZhbmlsbGFUaWx0KGVsZW1lbnQsIHNldHRpbmdzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIC8qIGV4cG9zZSB0aGUgY2xhc3MgdG8gd2luZG93ICovXG4gIHdpbmRvdy5WYW5pbGxhVGlsdCA9IFZhbmlsbGFUaWx0O1xuXG4gIC8qKlxuICAgKiBBdXRvIGxvYWRcbiAgICovXG4gIFZhbmlsbGFUaWx0LmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRpbHRdXCIpKTtcbn1cblxucmV0dXJuIFZhbmlsbGFUaWx0O1xuXG59KCkpO1xuIiwiaW1wb3J0IHsgVmFuaWxsYVRpbHQgfSBmcm9tICcuL3ZhbmlsbGEtdGlsdC5qcyc7XHJcblxyXG5cclxuY29uc3QgaGVhZGVyICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXInKTtcclxuY29uc3QgcHJvamVjdHMgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJveWVjdG8nKTtcclxuY29uc3QgbWVudU1vdmlsICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9NZW51Jyk7XHJcbmNvbnN0IGJ0biAgICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J0bicpO1xyXG5jb25zdCBtZW51ICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZW51Jyk7XHJcbmNvbnN0IHRhcmpldGEgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKTtcclxuLy8gY29uc3QgbWVudVRvZ2dsZSAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudVRvZ2dsZScpO1xyXG4vLyBjb25zdCBuYXZlZ2FjaW9uICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uJyk7XHJcbi8vIGNvbnN0IGhvbWUgICAgICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluaWNpbycpO1xyXG4vLyBjb25zdCBhYm91dCAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY2VyY2EnKTtcclxuLy8gY29uc3Qgc2tpbGxzICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGFiaWxpZGFkJyk7XHJcblxyXG4vKi0tLS0tLS0tLS0tLS0tRVZFTlRPUy0tLS0tLS0tLS0tLS0tLSAqL1xyXG5jb25zdCBzdGlja3lOYXYgPSAoKSA9PiB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xyXG4gICAgICAgIGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKFwic3RpY2t5XCIsIHdpbmRvdy5zY3JvbGxZID4gMCApO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGJvdG9uTWVudSA9ICgpID0+IHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBtZW51TW92aWwuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJob2xhIG11bmRvXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IG1lbnVMaW5rcyA9ICgpID0+IHtcclxuICAgIG1lbnUuZm9yRWFjaCgoZXZlbnQpID0+IHtcclxuICAgICAgICBldmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgbWVudU1vdmlsLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgYW5pbWFjaW9uQ2FyZCA9ICgpID0+IHtcclxuICAgIFZhbmlsbGFUaWx0LmluaXQoIHRhcmpldGEsIHtcclxuICAgICAgICBtYXg6IDMwLFxyXG4gICAgICAgIHNjYWxlOiAxLjEsXHJcbiAgICAgICAgZ2xhcmU6IHRydWUsXHJcbiAgICAgICAgXCJtYXgtZ2xhcmVcIjogMC41XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgbWVudURlc3BsZWdhYmxlID0gKCkgPT4ge1xyXG4gICAgLy8gbWVudVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnRXN0YSBjYXJnYW5kbycpO1xyXG4gICAgLy8gICAgIG1lbnVUb2dnbGUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICAvLyAgICAgbmF2ZWdhY2lvbi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuICAgIC8vIH0pO1xyXG59XHJcbmNvbnN0IGRlc2FjdGl2YXJNZW51ID0oKSA9PiB7XHJcbiAgICAvLyBtZW51VG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgLy8gbmF2ZWdhY2lvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxufVxyXG5jb25zdCBlamVjdXRhck1lbnUgPSAoKSA9PiB7XHJcbiAgICAvLyBpZihob21lLmFkZEV2ZW50TGlzdGVuZXIpe1xyXG4gICAgLy8gICAgIGhvbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGRlc2FjdGl2YXJNZW51KCk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcbiAgICBcclxuICAgIC8vIGlmKGFib3V0LmFkZEV2ZW50TGlzdGVuZXIpe1xyXG4gICAgLy8gICAgIGFib3V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICBkZXNhY3RpdmFyTWVudSgpO1xyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGlmKHNraWxscy5hZGRFdmVudExpc3RlbmVyKXtcclxuICAgIC8vICAgICBza2lsbHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGRlc2FjdGl2YXJNZW51KCk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gaWYocHJvamVjdHMuYWRkRXZlbnRMaXN0ZW5lcil7XHJcbiAgICAvLyAgICAgcHJvamVjdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGRlc2FjdGl2YXJNZW51KCk7XHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBpbml0ID0gKCkgPT4ge1xyXG4gICAgc3RpY2t5TmF2KCk7XHJcbiAgICBtZW51RGVzcGxlZ2FibGUoKTtcclxuICAgIGJvdG9uTWVudSgpO1xyXG4gICAgbWVudUxpbmtzKCk7XHJcbiAgICBhbmltYWNpb25DYXJkKCk7XHJcbiAgICAvLyBlamVjdXRhck1lbnUoKTtcclxufSJdLCJuYW1lcyI6WyJWYW5pbGxhVGlsdCIsImVsZW1lbnQiLCJzZXR0aW5ncyIsIk5vZGUiLCJ0aGlzIiwid2lkdGgiLCJoZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImxlZnQiLCJ0b3AiLCJnYW1tYXplcm8iLCJiZXRhemVybyIsImxhc3RnYW1tYXplcm8iLCJsYXN0YmV0YXplcm8iLCJ0cmFuc2l0aW9uVGltZW91dCIsInVwZGF0ZUNhbGwiLCJldmVudCIsInVwZGF0ZUJpbmQiLCJ1cGRhdGUiLCJiaW5kIiwicmVzZXRCaW5kIiwicmVzZXQiLCJleHRlbmRTZXR0aW5ncyIsInJldmVyc2UiLCJnbGFyZSIsImlzU2V0dGluZ1RydWUiLCJnbGFyZVByZXJlbmRlciIsImZ1bGxQYWdlTGlzdGVuaW5nIiwiZ3lyb3Njb3BlIiwiZ3lyb3Njb3BlU2FtcGxlcyIsImVsZW1lbnRMaXN0ZW5lciIsImdldEVsZW1lbnRMaXN0ZW5lciIsInByZXBhcmVHbGFyZSIsInVwZGF0ZUNsaWVudFNpemUiLCJhZGRFdmVudExpc3RlbmVycyIsInVwZGF0ZUluaXRpYWxQb3NpdGlvbiIsInNldHRpbmciLCJlbGVtZW50cyIsIk5vZGVMaXN0Iiwic2xpY2UiLCJjYWxsIiwiQXJyYXkiLCJmb3JFYWNoIiwidmFuaWxsYVRpbHQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIm1vdXNlRXZlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIm9uTW91c2VFbnRlckJpbmQiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTW92ZUJpbmQiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VMZWF2ZUJpbmQiLCJvbk1vdXNlTGVhdmUiLCJvbldpbmRvd1Jlc2l6ZUJpbmQiLCJvbldpbmRvd1Jlc2l6ZSIsIm9uRGV2aWNlT3JpZW50YXRpb25CaW5kIiwib25EZXZpY2VPcmllbnRhdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsImdhbW1hIiwiYmV0YSIsInVwZGF0ZUVsZW1lbnRQb3NpdGlvbiIsInRvdGFsQW5nbGVYIiwiZ3lyb3Njb3BlTWF4QW5nbGVYIiwiZ3lyb3Njb3BlTWluQW5nbGVYIiwidG90YWxBbmdsZVkiLCJneXJvc2NvcGVNYXhBbmdsZVkiLCJneXJvc2NvcGVNaW5BbmdsZVkiLCJkZWdyZWVzUGVyUGl4ZWxYIiwiZGVncmVlc1BlclBpeGVsWSIsInBvc1giLCJwb3NZIiwiY2xpZW50WCIsImNsaWVudFkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdHlsZSIsIndpbGxDaGFuZ2UiLCJzZXRUcmFuc2l0aW9uIiwidHJhbnNmb3JtIiwicGVyc3BlY3RpdmUiLCJyZXNldEdsYXJlIiwiZ2xhcmVFbGVtZW50Iiwib3BhY2l0eSIsInN0YXJ0WCIsInN0YXJ0WSIsIm1heCIsImJhY2t1cFNjYWxlIiwic2NhbGUiLCJ4IiwieSIsIk1hdGgiLCJtaW4iLCJ0aWx0WCIsInRvRml4ZWQiLCJ0aWx0WSIsInBlcmNlbnRhZ2VYIiwicGVyY2VudGFnZVkiLCJhbmdsZSIsImF0YW4yIiwiUEkiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJ2YWx1ZXMiLCJnZXRWYWx1ZXMiLCJheGlzIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwianNUaWx0R2xhcmUiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwianNUaWx0R2xhcmVJbm5lciIsImFwcGVuZENoaWxkIiwiZ2xhcmVFbGVtZW50V3JhcHBlciIsIk9iamVjdCIsImFzc2lnbiIsInVwZGF0ZUdsYXJlU2l6ZSIsImdsYXJlU2l6ZSIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJib2R5IiwiaW5uZXJIZWlnaHQiLCJ0cmFuc2l0aW9uIiwic3BlZWQiLCJlYXNpbmciLCJzZXRUaW1lb3V0IiwiZGVmYXVsdFNldHRpbmdzIiwibmV3U2V0dGluZ3MiLCJwcm9wZXJ0eSIsImhhc0F0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsIkpTT04iLCJwYXJzZSIsImUiLCJpbml0IiwicXVlcnlTZWxlY3RvckFsbCIsImhlYWRlciIsIm1lbnVNb3ZpbCIsImJ0biIsIm1lbnUiLCJ0YXJqZXRhIiwidG9nZ2xlIiwic2Nyb2xsWSJdLCJzb3VyY2VSb290IjoiIn0=